# Изменения адаптивной верстки

## Выполненные улучшения

### 1. Улучшенная система масштабирования
- **scale.ts**: Добавлена функция `vw()` для процентного позиционирования
- Улучшена функция `getScale()` для корректной работы на экранах от 360px до 540px
- Добавлена поддержка минимальной ширины (MIN_WIDTH = 360px)

### 2. Увеличены UI элементы (в 2.3 раза)
- **ui_nutrients.PNG**: 120px → 280px
- **ui_funnel.PNG**: 120px → 280px
- Размер текста увеличен пропорционально (18px → 22px, 40px → 80px)

### 3. Объединены элементы прогресса
- **ActionDock.tsx**: Объединены "Прогресс" и "До отбора" в один гармоничный блок
- Прогресс-бар теперь встроен в статусный блок
- Удален отдельный компонент **ProgressBar.tsx** (больше не используется)

### 4. Адаптивное позиционирование
Все компоненты переведены на адаптивное позиционирование:

#### HUD.tsx
- Монеты и добро: используют `vw()` для горизонтального позиционирования
- Кнопка звука: `right: vw(3)` вместо фиксированного `left: s(928)`

#### NutrientsBadge.tsx
- Позиция: `left: vw(3), bottom: s(480)`
- Размер иконки: 280px (увеличено в 2.3 раза)

#### ActionDock.tsx
- Центральный блок: `left: 50%, transform: translateX(-50%)`
- Лейка/кнопка сбора: `right: vw(3), bottom: s(480)`
- Размер иконки лейки: 280px (увеличено в 2.3 раза)

#### WaterIndicator.tsx
- Центрирован: `left: 50%, transform: translateX(-50%)`

#### SideActions.tsx
- Левые кнопки: `left: vw(2)`
- Правые кнопки: `right: vw(2)`

#### HelperGirl.tsx
- Позиция: `right: vw(5)` для адаптивности

#### TabBar.tsx
- Добавлены отступы: `paddingLeft: vw(2), paddingRight: vw(2)`
- Табы используют `flex: 1, maxWidth: s(200)` для равномерного распределения

### 5. Мобильная оптимизация

#### index.html
- Добавлен viewport с `viewport-fit=cover`
- Отключен zoom: `maximum-scale=1.0, user-scalable=no`
- Добавлена поддержка PWA: `mobile-web-app-capable`, `apple-mobile-web-app-capable`
- Изменен язык на русский: `lang="ru"`

#### index.css
- Добавлен `position: fixed` для html/body
- Добавлен `overscroll-behavior: none` для предотвращения bounce-эффекта
- Добавлен `touch-action: pan-y` для корректной работы жестов
- Медиа-запросы для экранов < 400px и 401-540px

#### App.tsx
- Динамическая высота viewport: `height: ${vh}px` вместо `100vh`
- Обработчик resize для корректной работы при изменении ориентации

## Поддерживаемые разрешения

Приложение теперь корректно работает на всех мобильных устройствах:

- **iPhone SE (375×667)** ✓
- **iPhone 12/13/14 (390×844)** ✓
- **iPhone 14 Pro Max (430×932)** ✓
- **Samsung Galaxy S20 (360×800)** ✓
- **Samsung Galaxy S21+ (384×854)** ✓
- **Pixel 5 (393×851)** ✓
- **Ваш экран (582×1006)** ✓

## Результат

✅ Элементы больше не "плавают" на узких экранах
✅ UI элементы (лейка, питательные вещества) увеличены в 2-3 раза
✅ Прогресс и статус объединены в один гармоничный блок
✅ Все элементы адаптивно позиционируются относительно ширины экрана
✅ Предотвращен нежелательный скролл и bounce-эффект
✅ Корректная работа при изменении ориентации устройства
